---
description: Применяй эти правила при создании или редактировании
globs: backend/**/*.{py}
---

* Используй '' вместо "" по возможности
* Не используй приватные и скрытые названия
* Не делай лишних проверок того, что импортируешь из конфига и вообще
* Не добавляй в конфиг опциональные константы. Только обязательный импорт из окружения, либо хардкод
* Для хранилища используй storage.Storage
* Не пересоздавай объекты при каждом использовании (например Storage), если их можно создать и инициализировать однократно, при старте приложения
* Выноси rest в папку api, разбивай по роутам. FastAPI, lifespan
* Используй __main__.py как точку входа. Инициализируй там цветной логгер с форматированием
* Используй логирование, без print
* Добавляй тесты, запускай их
* Конфиг старайся использовать как можно реже, только при необходимости
* Не используй ограничения для данных без явного запроса. Работа с данными должна быть максимально гибкой
* Применяй PEP8, без ограничения по длине строки, flake8-comma, isort (force_single_line=1; known_first_party укажи сам)
